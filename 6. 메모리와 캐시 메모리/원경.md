# Chapter 06. 메모리와 캐시 메모리
## 06-1. RAM의 특징과 종류
### RAM이란?
- **프로그램의 명령어와 데이터를 저장**하는 휘발성 저장 장치
- 전원이 꺼지면 내용이 **사라짐**
- **실행 대상은 RAM**, **보관 대상은 보조기억장치**에 저장

### RAM 용량과 성능
- **RAM 용량이 클수록**:
  - 여러 프로그램을 동시에 빠르게 실행 가능
  - 보조기억장치 접근을 줄여 속도 향상
- 하지만 일정 수준을 넘어서면 **성능 향상은 둔화**

### RAM의 종류

| 종류                    | 특징                                    | 용도               |
| --------------------- | ------------------------------------- | ---------------- |
| **DRAM**              | 저장 내용이 **시간이 지나면 사라짐** → 주기적 재충전 필요   | **일반 메인 메모리** 사용 |
| **SRAM**              | 내용이 **변하지 않음**, 빠르지만 **비싸고 전력 소모 많음** | **캐시 메모리**에 사용   |
| **SDRAM**             | **클럭 신호와 동기화**된 DRAM                  | 예전 컴퓨터 메모리       |
| **DDR SDRAM**         | SDRAM보다 **2배 빠른 전송 속도**               |                  |
| (DDR2/3/4는 세대별 성능 향상) | 현재 **주요 메모리 형태**                      |                  |

---
## 06-2. 메모리의 주소 공간
### 논리 주소 vs 물리 주소
- **물리 주소**: 실제 메모리 칩 상의 주소
- **논리 주소**: 프로그램 입장에서의 주소 (0번지부터 시작)
- CPU는 논리 주소를 사용하고, 이를 **MMU**(메모리 관리 장치)가 물리 주소로 변환
  - **베이스 레지스터**: 프로그램 시작 주소
  - 논리 주소 + 베이스 주소 = 물리 주소

### 메모리 보호 기법
- **한계 레지스터**: 프로그램이 사용할 수 있는 최대 논리 주소
- 논리 주소가 이 범위를 넘으면 **접근 차단**  
  → 서로 다른 프로그램이 메모리 침범 못하게 보호

---

## 06-3. 캐시 메모리
### 저장장치 계층 구조

| 계층         | 특징                    |
| ---------- | --------------------- |
| **레지스터**   | 가장 빠름, 용량 매우 작음       |
| **캐시**     | SRAM 기반, 메모리보다 빠름     |
| **RAM**    | 일반적인 메모리, DRAM 사용     |
| **보조기억장치** | SSD, HDD 등. 느리지만 용량 큼 |
- **CPU에 가까울수록 빠르고 비싸고 용량이 작다**

### 캐시 메모리란?
- **CPU와 메모리 사이**에 위치
- 자주 쓸 데이터를 **미리 저장**해 빠르게 접근
- 일반적으로 **SRAM**으로 구현됨

#### 캐시 계층 구조
- **L1 캐시**: 코어 가장 가까움 (명령어용 L1i, 데이터용 L1d로 분리되기도 함)
- **L2 캐시**: L1보다 크고 느림
- **L3 캐시**: 여러 코어가 공유

---
### 참조 지역성(Locality of Reference)
캐시 메모리가 잘 작동하려면 CPU의 데이터 접근 경향을 잘 예측해야 한다.  
예측의 핵심은 **참조 지역성 원리**

| 유형         | 설명                      |
| ---------- | ----------------------- |
| **시간 지역성** | 최근 접근한 데이터에 다시 접근하는 경향  |
| **공간 지역성** | 접근한 주소 근처의 데이터에 접근하는 경향 |

### 캐시 히트와 캐시 미스
- **캐시 히트**: CPU가 필요한 데이터가 캐시에 존재
- **캐시 미스**: 캐시에 없어 **RAM까지 접근**해야 함 → 성능 저하

`캐시 적중률 = 히트 횟수 / (히트 횟수 + 미스 횟수)`  
→ **높을수록 성능 향상**

---

> 요약
> - **RAM은 실행 중인 데이터를 저장**하는 휘발성 저장장치 (주로 DRAM 사용)
> - **논리 주소는 프로그램 관점**, **물리 주소는 실제 위치**
> - **MMU**가 논리 → 물리 주소 변환, **한계 레지스터**로 메모리 보호
> - **캐시 메모리**는 CPU 속도와 메모리 속도 차이를 줄이기 위한 장치
> - 캐시는 **참조 지역성 원리**를 기반으로 작동하며, **적중률이 높을수록 성능이 좋다**
