# Chapter 07. 보조기억장치
## 07-1. 다양한 보조기억장치
보조기억장치는 한 종만 있는 것이 아니라 다양한 유형이 있습니다. 가장 대중적인 보조기억장치는 하드디스크(HDD)와 플래시 메모리입니다.

### 하드디스크
- 자기적 방식으로 데이터를 저장하는 장치
- LP나 CD처럼 원형의 플래터(platter)를 활용
- 저장된 데이터가 위치한 특정 트랙에 헤드를 이동시키고, 트랙을 둘러싼 논리적 공간을 실린더라고 함

#### 항목 구성 요소

| 구성 요소                | 기본 설명                                  |
| -------------------- | -------------------------------------- |
| **플레터 (Platter)**    | 데이터가 저장되는 원형의 판. N극/S극 반전을 통해 0과 1을 표현 |
| **스핀들 (Spindle)**    | 플레터를 회전시키는 장치. rpm(1분당 회전수) 단위로 표현     |
| **헤드 (Head)**        | 플레터의 데이터를 읽고 쓰는 장치. 트랙에 따라 위치 이동       |
| **디스크 암 (Disk Arm)** | 헤드를 원하는 트랙으로 이동시키는 기구                  |

#### 데이터 저장 구조
- 플레터는 동심원 형태의 트랙(track)으로 나뉘고, 트랙은 피자처럼 나뉜 섹터(sector)로 구성
- 실린더: 여러 플래터에 존재하는 같은 위치의 트랙들을 논리적으로 연결한 단위
- 섹터는 보통 512바이트 또는 4096바이트 단위로 구성됨

#### 데이터 접근 시간 요소

|요소|설명|
|---|---|
|**탐색 시간**|트랙을 찾기 위해 헤드를 이동하는 시간|
|**회전 지연**|데이터가 있는 섹터가 헤드 아래로 올 때까지 플래터를 회전시키는 시간|
|**전송 시간**|HDD와 컴퓨터 간 데이터 전송 시간|

#### 다중/고정 헤드 디스크

|유형|설명|
|---|---|
|**다중 헤드 디스크**|각 트랙에 헤드가 존재. 탐색 시간이 0|
|**고정 헤드 디스크**|헤드를 이동시키지 않는 구조. 다중 헤드 디스크와 동일|
|**이동 헤드 디스크**|일반적인 HDD 형태. 헤드가 트랙을 따라 이동함|


---
### 플래시 메모리
- 반도체 기반의 전기적 저장장치로, SSD, USB, SD 카드 등이 포함됨
- 저장장치뿐만 아니라 다양한 전자기기에 내장됨

#### 타입별 특징

|타입|특징|
|---|---|
|**SLC** (Single-Level Cell)|셀당 1비트. 속도와 수명이 뛰어나고 가격은 높음|
|**MLC** (Multi-Level Cell)|셀당 2비트. 속도와 수명은 감소하지만 용량 대비 저렴함|
|**TLC** (Triple-Level Cell)|셀당 3비트. 가장 저렴하지만 속도와 수명이 가장 낮음|

#### 기본 동작 단위
- **페이지(page)**: 플래시 메모리의 최소 읽기/쓰기 단위
- **블록(block)**: 여러 페이지가 모인 단위. 삭제는 블록 단위로만 가능
- **플레인(plane)**: 여러 블록으로 구성된 더 큰 단위

#### 페이지 상태

|상태|설명|
|---|---|
|**Free**|비어 있는 상태. 새 데이터를 저장할 수 있음|
|**Valid**|유효한 데이터가 저장되어 있는 상태|
|**Invalid**|더 이상 유효하지 않은 데이터가 존재하는 상태 (쓰레기값)|

#### 데이터 수정 방식
- 플래시 메모리는 덮어쓰기가 불가능하므로 기존 데이터는 Invalid 상태로 바뀌고, 수정된 데이터는 새로운 페이지에 기록됨

#### Garbage Collection
- 유효한 데이터만 다른 블록으로 복사한 뒤 기존 블록 전체 삭제
- Invalid 데이터를 제거하여 공간을 확보하는 방식



## 07-2. RAID의 정의와 종류
### RAID의 정의
- **RAID**(Redundant Array of Independent Disks): 여러 개의 보조기억장치를 논리적으로 하나의 장치처럼 구성해 사용하는 기술
- 데이터의 안전성과 성능을 향상시키는 것이 목적
- 서버, NAS 등에서 대용량의 데이터를 보다 안정적으로 관리하기 위해 활용됨

---
### RAID 종류 (RAID 레벨)
RAID 구성 방식을 “RAID 레벨”이라 하며, 주요 RAID 레벨은 다음과 같습니다:

#### RAID 0
- 데이터를 여러 디스크에 분산 저장 (스트라이핑: Striping)
- 읽기/쓰기 속도 향상 → 동시에 병렬 접근 가능
- 하지만 디스크 하나라도 고장나면 전체 데이터 손실 발생

#### RAID 1
- 데이터를 완전히 복사해 저장 (미러링: Mirroring)
- 하나의 디스크에 장애가 발생해도 복구 용이
- 저장 가능한 용량은 전체 디스크 용량의 절반 수준
- 쓰기 속도는 RAID 0보다 느릴 수 있음

#### RAID 4
- 패리티 비트(오류 검출/복구 정보)를 하나의 전용 디스크에 저장
- 데이터를 분산 저장하면서도 장애 복구 가능
- 하지만 패리티 디스크에 쓰기 병목이 발생할 수 있음

#### RAID 5
- RAID 4의 단점 개선: 패리티 정보를 모든 디스크에 분산 저장
- 성능과 안정성의 균형이 잘 잡힌 구성
- 디스크 하나 고장 시에도 데이터 복구 가능

#### RAID 6
- RAID 5와 유사하지만, 두 개의 패리티 블록을 저장해 2개 디스크 고장까지 복구 가능
- 안정성은 높지만, 쓰기 연산 속도는 RAID 5보다 느림

---

### 복합 RAID (Nested RAID)
- 여러 RAID 레벨을 조합해 복구력과 성능을 동시에 갖춘 구조

|형식|설명|
|---|---|
|**RAID 10**|RAID 1과 RAID 0의 조합. 성능과 복구력 모두 우수함|
|**RAID 50**|RAID 5와 RAID 0의 조합. 분산 저장과 패리티를 통한 성능 및 안정성 향상|



---


> 요약
> - RAID는 여러 보조기억장치를 논리적으로 묶어 안정성과 성능을 동시에 확보하기 위한 기술입니다.
> - **RAID 0**: 빠르지만 안전성 없음
> - **RAID 1**: 안전하지만 용량 손실 발생
> - **RAID 4/5/6**: 패리티 기반의 안정성 확보, RAID 6은 2개 디스크 고장 대응
> - **RAID 10/50** 등 복합 RAID는 성능과 복구력을 모두 고려할 때 적합
> - 요구사항(속도/복구/비용 등)에 따라 적절한 RAID 레벨을 선택해야 함

